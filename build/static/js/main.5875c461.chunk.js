(this["webpackJsonpmove-application"]=this["webpackJsonpmove-application"]||[]).push([[0],{52:function(e,t,r){},60:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=r(28),s=r.n(n),i=r(16),o=r.n(i),l=(r(52),r(9)),u=r(13),v=r(2),j=r(10),d=r.n(j),h=r(12),p=r(62),b=r.p+"static/media/spinner.e30e831d.svg",m=r(1);function O(e){var t=e.setMovie,r=e.movie,a="http://image.tmdb.org/t/p/w342/".concat(r.posterPath),c="Poster from the movie ".concat(r.title);return Object(m.jsx)("div",{className:"moviePreview",children:Object(m.jsx)(u.b,{to:"/movie",children:Object(m.jsx)("img",{className:"previewImage",src:a,alt:c,onClick:function(){return t(r)}})})})}function f(e){var t=e.searchResult,r=e.status,a=e.setMovie,c=r.state,n=r.error;return"idle"===c?null:"pending"===c?Object(m.jsx)("img",{className:"loadingImg centered",src:b,alt:"loading icon"}):"resolved"===c?t.map((function(e){return Object(m.jsx)(O,{movie:e,setMovie:a},e.id)})):"error"===c?Object(m.jsx)("p",{className:"centered",id:"error",children:n}):void 0}var x=function(){var e=Object(h.a)(d.a.mark((function e(){var t,r,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.prev=1,e.next=4,o.a.get("/search/movie",{params:{searchString:t}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(1),new Error("Unable to find movie");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),g=function(e){var t=e.search,r=e.setSearch,c=e.setMovie,n=Object(a.useState)({state:"idle",error:null}),s=Object(l.a)(n,2),i=s[0],o=s[1],u=Object(a.useState)(null),v=Object(l.a)(u,2),j=v[0],b=v[1],O=Object(p.a)(t,600),g=Object(l.a)(O,1)[0];Object(a.useEffect)((function(){var e=function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(g);case 3:t=e.sent,b(t),o({state:"resolved"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o({state:"error",error:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();g.length<1||e()}),[g]);return Object(m.jsxs)("div",{className:"search-container",children:[Object(m.jsx)("div",{className:"tmdb",children:Object(m.jsx)("p",{children:"All movie info is gathered from themoviedb.org"})}),Object(m.jsx)(f,{searchResult:j,status:i,setMovie:c}),Object(m.jsx)("input",{id:"search",className:""===t?"centered":"search-top",placeholder:"Search Movie",onChange:function(e){r(e.target.value),0===e.target.value.length?o({state:"idle"}):o({state:"pending"})},value:t,autoComplete:"off"})]})};function w(e){var t=e.movie;return Object(m.jsx)("div",{className:"movie",children:t.title})}var N=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(null),s=Object(l.a)(n,2),i=s[0],o=s[1];return Object(m.jsx)("div",{className:"wrapper",children:Object(m.jsx)(u.a,{children:Object(m.jsxs)(v.c,{children:[Object(m.jsx)(v.a,{exact:!0,path:"/",children:Object(m.jsx)(g,{search:r,setSearch:c,setMovie:o})}),Object(m.jsx)(v.a,{path:"/movie",children:Object(m.jsx)(w,{movie:i})})]})})})};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.5875c461.chunk.js.map