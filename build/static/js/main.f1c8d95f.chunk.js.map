{"version":3,"sources":["components/moviePreview.js","img/spinner.svg","utils/getMovies.js","App.js","index.js"],"names":["MoviePreview","movie","imgURL","posterPath","altText","title","className","src","alt","getMovies","a","searchString","axios","get","params","result","data","response","App","useState","search","setSearch","searchResult","setSearchResult","loading","setLoading","error","setError","useEffect","length","movieResult","fetchData","loadingImg","map","id","placeholder","onChange","event","target","value","autoComplete","port","process","PORT","defaults","baseURL","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yPAEe,SAASA,EAAT,GACd,IADuCC,EACxC,EADwCA,MAE9BC,EAAM,yCAAqCD,EAAME,YACjDC,EAAO,gCAA4BH,EAAMI,OAC/C,OACI,qBAAKC,UAAU,eAAf,SACI,qBAAKA,UAAU,eAAeC,IAAKL,EAAQM,IAAKJ,MCR7C,UAA0B,oCCO5BK,EAAS,uCAAG,0CAAAC,EAAA,6DAAOC,EAAP,+BAAsB,GAAtB,kBAIIC,IAAMC,IAAI,gBAAiB,CAC5CC,OAAQ,CACJH,kBANS,cAIXI,EAJW,yBASVA,EAAOC,MATG,sCAaX,KAAMC,SAASD,KAbJ,yDAAH,qDC0DPE,EA1DH,WAEV,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAwCF,mBAAS,MAAjD,mBAAOG,EAAP,KAAqBC,EAArB,KACA,EAA8BJ,oBAAS,GAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACA,EAA0BN,mBAAS,IAAnC,mBAAOO,EAAP,KAAcC,EAAd,KAMAC,qBAAU,WACV,4CACE,4BAAAlB,EAAA,2DAEMU,EAAOS,OAAS,GAFtB,wDAGEJ,GAAW,GAHb,kBAO8BhB,EAAUW,GAPxC,OAOUU,EAPV,OAQIP,EAAgBO,GARpB,kDAYIP,EAAgB,MAChBI,EAAS,EAAD,IAbZ,QAeEF,GAAW,GAfb,2DADF,uBAAC,WAAD,wBAmBEM,KACC,CAACX,IAcJ,OACE,sBAAKd,UAAU,YAAf,UACMkB,GAAW,qBAAKlB,UAAU,sBAAsBC,IAAKyB,EAAYxB,IAAI,kBACjEc,GAAgBA,EAAaW,KAAI,SAAAhC,GAAK,OAAI,cAACD,EAAD,CAA6BC,MAAOA,GAAjBA,EAAMiC,OAExER,GAAS,mBAAGpB,UAAU,WAAW4B,GAAG,QAA3B,SAAoCR,IAC9C,uBAAOQ,GAAG,SAAS5B,UAAU,WAAW6B,YAAY,eAAeC,SAblD,SAACC,GAES,aAA3BA,EAAMC,OAAOhC,YAA0B+B,EAAMC,OAAOhC,UAAY,cACpEe,EAAUgB,EAAMC,OAAOC,OACvBZ,EAAS,KASwFY,MAAOnB,EAAQoB,aAAa,YCpD3HC,EAAOC,mIAAYC,MAAQ,KACjC/B,IAAMgC,SAASC,QAAf,8CAAgEJ,GAEhEK,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f1c8d95f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function MoviePreview ({ movie })\r\n{\r\n    const imgURL = `http://image.tmdb.org/t/p/w342/${movie.posterPath}`;\r\n    const altText = `Poster from the movie ${movie.title}`;\r\n    return (\r\n        <div className=\"moviePreview\">\r\n            <img className=\"previewImage\" src={imgURL} alt={altText} />\r\n        </div>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/spinner.e30e831d.svg\";","import axios from \"axios\";\r\n\r\n/**\r\n * Makes server request with given search string\r\n * @param {*} searchString   \r\n * @returns\r\n */\r\nexport const getMovies = async (searchString = \"\") =>\r\n{\r\n    try\r\n    {\r\n        const result = await axios.get(\"/search/movie\", {\r\n            params: {\r\n                searchString\r\n            }\r\n        })\r\n        return result.data;\r\n    }\r\n    catch (error)\r\n    {\r\n        throw error.response.data;\r\n    }\r\n}","import { useState, useEffect } from \"react\";\r\nimport \"./styles.css\";\r\n\r\nimport MoviePreview from \"./components/moviePreview\";\r\nimport loadingImg from \"./img/spinner.svg\";\r\nimport { getMovies } from \"./utils/getMovies\";\r\n\r\nconst App = () =>\r\n{\r\n  const [search, setSearch] = useState(\"\");\r\n  const [searchResult, setSearchResult] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  /**\r\n   * Runs when search state is changed.\r\n   * Updates searchResult state based on response from server\r\n   */\r\n  useEffect(() =>\r\n  {\r\n    async function fetchData ()\r\n    {\r\n      if (search.length < 1) return;\r\n      setLoading(true);\r\n\r\n      try\r\n      {\r\n        const movieResult = await getMovies(search);\r\n        setSearchResult(movieResult);\r\n      }\r\n      catch (error)\r\n      {\r\n        setSearchResult(null);\r\n        setError(error);\r\n      }\r\n      setLoading(false);\r\n    }\r\n\r\n    fetchData();\r\n  }, [search]);\r\n\r\n  /**\r\n   * Move the search bar to the top if currently centered\r\n   * Sets the search state equal to input value, and clears the error state \r\n   * @param {*} event search field input element\r\n   */\r\n  const searchOnChange = (event) =>\r\n  {\r\n    if (event.target.className === \"centered\") event.target.className = \"search-top\";\r\n    setSearch(event.target.value);\r\n    setError(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n        {(loading && <img className=\"loadingImg centered\" src={loadingImg} alt=\"loading icon\" />)\r\n          || (searchResult && searchResult.map(movie => <MoviePreview key={movie.id} movie={movie} />))\r\n        }\r\n        {error && <p className=\"centered\" id=\"error\">{error}</p>}\r\n        <input id=\"search\" className=\"centered\" placeholder=\"Search Movie\" onChange={searchOnChange} value={search} autoComplete=\"off\"></input>\r\n        {/* <p id=\"attribution\">This product uses the TMDb API but is not endorsed or certified by TMDb.</p> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport axios from \"axios\";\r\n\r\nimport App from './App';\r\n\r\n//axios.defaults.baseURL = \"http://localhost:5001\" \r\nconst port = process.env.PORT || 5001;\r\naxios.defaults.baseURL = `https://movie-buffies.herokuapp.com:${port}`;\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}